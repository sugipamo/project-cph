# CPH (Competitive Programming Helper) - ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§ã®æ”¹å–„ç‚¹åˆ†æã¨E2Eå®Ÿè£…è¨ˆç”»

## æ¦‚è¦

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€CPHï¼ˆç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ”¯æ´ãƒ„ãƒ¼ãƒ«ï¼‰ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§ä½¿ç”¨ã—ãŸéš›ã®æ”¹å–„ç‚¹ã‚’æ´—ã„å‡ºã—ã€ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®æ©Ÿèƒ½å®Ÿè£…è¨ˆç”»ã‚’ç­–å®šã—ãŸã‚‚ã®ã§ã™ã€‚

## ç¾åœ¨ã®å®Ÿè£…çŠ¶æ³ã®åˆ†æ

### å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½
- CLIã®åŸºæœ¬æ§‹é€ ï¼ˆ`open`ã€`submit`ã€`test`ã€`init`ã‚³ãƒãƒ³ãƒ‰ã®å®šç¾©ï¼‰
- Clean Architectureã«åŸºã¥ãè¨­è¨ˆ
- ä¾å­˜æ€§æ³¨å…¥ã«ã‚ˆã‚‹ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤ã®åˆ†é›¢
- åŸºæœ¬çš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ§‹é€ 

### æœªå®Ÿè£…ã®ä¸»è¦æ©Ÿèƒ½
1. **å®Ÿéš›ã«å‹•ä½œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰æ©Ÿèƒ½**
   - `test`ã‚³ãƒãƒ³ãƒ‰ã¯éƒ¨åˆ†çš„ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ãŒã€æ©Ÿèƒ½ãŒé™å®šçš„
   - `open`ã€`submit`ã¯ã‚¹ã‚¿ãƒ–å®Ÿè£…ã®ã¿
   - `init`ã¯å®Œå…¨æœªå®Ÿè£…

2. **ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å›ºæœ‰ã®æ©Ÿèƒ½**
   - å•é¡Œãƒ‡ãƒ¼ã‚¿ã®å–å¾—ï¼ˆAtCoderç­‰ã‹ã‚‰ã®è‡ªå‹•å–å¾—ï¼‰
   - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®ç®¡ç†
   - è¤‡æ•°è¨€èªã®ã‚µãƒãƒ¼ãƒˆ
   - ã‚³ãƒ³ãƒ†ã‚¹ãƒˆç®¡ç†æ©Ÿèƒ½

3. **ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£æ©Ÿèƒ½**
   - é€²æ—è¡¨ç¤º
   - ã‚ã‹ã‚Šã‚„ã™ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
   - åˆæœŸè¨­å®šã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰

## ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§ã®ä¸»è¦ãªæ”¹å–„ç‚¹

### 1. åˆå›ä½¿ç”¨æ™‚ã®ä½“é¨“ï¼ˆFirst-Time User Experienceï¼‰

#### ç¾çŠ¶ã®å•é¡Œç‚¹
- ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€ä½•ã‚’ã™ã‚Œã°ã‚ˆã„ã‹ãŒä¸æ˜ç¢º
- `cph init`ãŒæœªå®Ÿè£…ã§ã€åˆæœŸè¨­å®šãŒã§ããªã„
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒé–‹ç™ºè€…å‘ã‘ã§ã€ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã§ã¯ãªã„

#### æ”¹å–„ææ¡ˆ
```bash
# ç†æƒ³çš„ãªåˆå›ä½¿ç”¨ãƒ•ãƒ­ãƒ¼
$ cph --version
cph 0.1.0 - Competitive Programming Helper

$ cph init
Welcome to CPH! This wizard will help you set up your environment.

? Select your primary programming language:
  â¯ C++ (recommended for competitive programming)
    Python
    Rust
    Java

? Where should we create your workspace? (./cph-workspace)

Setting up your environment...
âœ“ Created workspace directory
âœ“ Generated C++ template
âœ“ Configured default compiler settings
âœ“ Set up test runner

Setup complete! Quick start:
  - Open a problem: cph open abc300a
  - Test your solution: cph test
  - Submit when ready: cph submit

Need help? Run 'cph help' or visit https://github.com/cph/docs
```

### 2. åŸºæœ¬çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

#### ç¾çŠ¶ã®å•é¡Œç‚¹
- å•é¡Œã‚’é–‹ãâ†’ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°â†’ãƒ†ã‚¹ãƒˆâ†’æå‡ºã®æµã‚ŒãŒå®Ÿè£…ã•ã‚Œã¦ã„ãªã„
- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è‡ªå‹•å–å¾—ãŒã§ããªã„
- çµæœã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒä¸ååˆ†

#### æ”¹å–„ææ¡ˆ

##### 2.1 å•é¡Œã‚’é–‹ã
```bash
$ cph open abc300a
# ã¾ãŸã¯
$ cph open https://atcoder.jp/contests/abc300/tasks/abc300_a

Fetching problem details...
âœ“ Problem: A - Leyland Number
âœ“ Time Limit: 2 sec / Memory Limit: 1024 MB
âœ“ Downloaded 3 sample test cases

Created:
  ./abc300a/
  â”œâ”€â”€ main.cpp     # Your solution file
  â”œâ”€â”€ problem.md   # Problem statement
  â””â”€â”€ samples/
      â”œâ”€â”€ 1.in
      â”œâ”€â”€ 1.out
      â”œâ”€â”€ 2.in
      â”œâ”€â”€ 2.out
      â”œâ”€â”€ 3.in
      â””â”€â”€ 3.out

Ready to code! Your solution file is at: ./abc300a/main.cpp
```

##### 2.2 ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
$ cd abc300a
$ cph test

Compiling main.cpp... âœ“
Running tests...

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Test Case  â”‚ Result â”‚ Time   â”‚ Memory  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Sample 1   â”‚ âœ“ AC   â”‚ 2ms    â”‚ 3.2MB   â”‚
â”‚ Sample 2   â”‚ âœ“ AC   â”‚ 2ms    â”‚ 3.1MB   â”‚
â”‚ Sample 3   â”‚ âœ— WA   â”‚ 3ms    â”‚ 3.2MB   â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Test 3 Failed:
  Expected: 1234567890
  Actual:   1234567891
  
  Input:
    100 100
  
Hint: Check for integer overflow. Consider using long long.

Summary: 2/3 tests passed
```

##### 2.3 æå‡º
```bash
$ cph submit

Pre-submission check...
âœ“ All sample tests passed
âœ“ No compilation warnings
âœ“ Code within size limit (2.3 KB / 512 KB)

Submit to AtCoder? [Y/n] Y

Submitting...
âœ“ Submission successful!

Result: Judging... (Submission #12345678)
  [â– â– â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡] 3/10 test cases

Final Result: AC
All test cases passed! (142ms, 15.2MB)

Great job! ğŸ‰
```

### 3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ‡ãƒãƒƒã‚°æ”¯æ´

#### ç¾çŠ¶ã®å•é¡Œç‚¹
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæŠ€è¡“çš„ã™ãã‚‹
- ãƒ‡ãƒãƒƒã‚°ã®ãƒ’ãƒ³ãƒˆãŒãªã„
- ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹

#### æ”¹å–„ææ¡ˆ
```rust
// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼è¡¨ç¤º
pub enum UserFriendlyError {
    CompilationError {
        file: String,
        line: usize,
        message: String,
        suggestion: String,
    },
    RuntimeError {
        test_case: String,
        signal: String,
        hint: String,
    },
    NetworkError {
        action: String,
        suggestion: String,
    },
}

// å®Ÿè£…ä¾‹
match result {
    Err(e) => {
        match e {
            CompilationError { file, line, message, suggestion } => {
                eprintln!("âŒ Compilation Error");
                eprintln!("   File: {} (line {})", file, line);
                eprintln!("   Error: {}", message);
                eprintln!("   ğŸ’¡ Suggestion: {}", suggestion);
            }
            RuntimeError { test_case, signal, hint } => {
                eprintln!("âŒ Runtime Error on {}", test_case);
                eprintln!("   Signal: {}", signal);
                eprintln!("   ğŸ’¡ Hint: {}", hint);
                eprintln!("   Try running with --debug for more details");
            }
            NetworkError { action, suggestion } => {
                eprintln!("âŒ Network Error while {}", action);
                eprintln!("   ğŸ’¡ {}", suggestion);
                eprintln!("   You can work offline with cached problems");
            }
        }
    }
}
```

### 4. é«˜åº¦ãªæ©Ÿèƒ½

#### 4.1 ã‚³ãƒ³ãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰
```bash
$ cph contest abc300

AtCoder Beginner Contest 300
Start: 2024-01-01 21:00 JST
Duration: 100 minutes

Problems:
  A - Leyland Number      [ Not started ]
  B - Same Map            [ Not started ]
  C - Cross               [ Not started ]
  D - Counting Ls         [ Not started ]
  E - Increasing Sequence [ Not started ]

Commands:
  cph open a    # Start working on problem A
  cph status    # Show contest progress
  cph rank      # Show current standings (if available)
```

#### 4.2 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†
```bash
$ cph template list
Available templates:
  - cpp-default    : Basic C++ template
  - cpp-fast-io    : C++ with fast I/O
  - python-default : Basic Python template
  - custom-1       : Your custom template

$ cph template edit cpp-default
# Opens editor with template file

$ cph template use cpp-fast-io
Set 'cpp-fast-io' as default C++ template
```

#### 4.3 çµ±è¨ˆã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ
```bash
$ cph stats

Your Statistics:
  Problems solved: 142
  Success rate: 78.3%
  Average attempts: 1.8
  
Performance:
  Average time: 245ms (C++)
  Average memory: 12.3MB
  
Recent activity:
  - ABC300 A: AC (2 attempts, 5:23)
  - ABC299 D: AC (1 attempt, 12:45)
  - ABC299 C: WA (3 attempts)
```

## å®Ÿè£…å„ªå…ˆé †ä½ã¨ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 1: åŸºæœ¬æ©Ÿèƒ½ï¼ˆ1-2é€±é–“ï¼‰
1. **`cph test`ã®å®Œå…¨å®Ÿè£…**
   - ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ©Ÿèƒ½
   - ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
   - çµæœã®è¦‹ã‚„ã™ã„è¡¨ç¤º

2. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æ”¹å–„**
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
   - ãƒ‡ãƒãƒƒã‚°ãƒ’ãƒ³ãƒˆ

3. **åŸºæœ¬çš„ãª`cph open`**
   - ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å•é¡Œä½œæˆ
   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ

### Phase 2: ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ©Ÿèƒ½ï¼ˆ2-3é€±é–“ï¼‰
1. **ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¸ãƒ£ãƒƒã‚¸é€£æº**
   - AtCoderã‹ã‚‰ã®å•é¡Œå–å¾—
   - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è‡ªå‹•ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

2. **`cph submit`ã®å®Ÿè£…**
   - æå‡ºå‰ãƒã‚§ãƒƒã‚¯
   - å®Ÿéš›ã®æå‡ºæ©Ÿèƒ½

3. **å¤šè¨€èªã‚µãƒãƒ¼ãƒˆ**
   - Pythonå¯¾å¿œ
   - è¨€èªè‡ªå‹•æ¤œå‡º

### Phase 3: é«˜åº¦ãªæ©Ÿèƒ½ï¼ˆ3-4é€±é–“ï¼‰
1. **ã‚³ãƒ³ãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰**
   - è¤‡æ•°å•é¡Œã®ç®¡ç†
   - æ™‚é–“è¿½è·¡

2. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†**
   - ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
   - è¨€èªåˆ¥è¨­å®š

3. **çµ±è¨ˆæ©Ÿèƒ½**
   - è§£ç­”å±¥æ­´
   - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ

### Phase 4: ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ1-2ãƒ¶æœˆï¼‰
1. **IDEé€£æº**
   - VS Codeæ‹¡å¼µ
   - vim/neovimãƒ—ãƒ©ã‚°ã‚¤ãƒ³

2. **CI/CDçµ±åˆ**
   - GitHub Actions
   - è‡ªå‹•ãƒ†ã‚¹ãƒˆ

3. **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ©Ÿèƒ½**
   - å•é¡Œå…±æœ‰
   - ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³æ¯”è¼ƒ

## æŠ€è¡“çš„å®Ÿè£…ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

### 1. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®çµ±ä¸€
```rust
// ã‚¨ãƒ©ãƒ¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®è¿½åŠ 
use anyhow::{Context, Result};

pub trait UserContext {
    fn user_context(self, msg: &str) -> Self;
    fn with_suggestion(self, suggestion: &str) -> Self;
}

impl<T> UserContext for Result<T> {
    fn user_context(self, msg: &str) -> Self {
        self.context(msg)
    }
    
    fn with_suggestion(self, suggestion: &str) -> Self {
        self.map_err(|e| {
            e.context(format!("ğŸ’¡ Suggestion: {}", suggestion))
        })
    }
}
```

### 2. ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºã®å®Ÿè£…
```rust
use indicatif::{ProgressBar, ProgressStyle};

pub struct TaskProgress {
    bar: ProgressBar,
}

impl TaskProgress {
    pub fn new(task: &str, total: u64) -> Self {
        let bar = ProgressBar::new(total);
        bar.set_style(
            ProgressStyle::default_bar()
                .template("{spinner:.green} {msg} [{bar:40.cyan/blue}] {pos}/{len}")
                .progress_chars("#>-")
        );
        bar.set_message(task.to_string());
        Self { bar }
    }
}
```

### 3. è¨­å®šç®¡ç†ã®å®Ÿè£…
```rust
#[derive(Serialize, Deserialize)]
pub struct UserConfig {
    pub default_language: Language,
    pub editor: String,
    pub template_dir: PathBuf,
    pub workspace_dir: PathBuf,
    pub atcoder_session: Option<String>,
}

impl UserConfig {
    pub fn load() -> Result<Self> {
        let config_path = dirs::config_dir()
            .context("Failed to find config directory")?
            .join("cph")
            .join("config.toml");
        
        if !config_path.exists() {
            return Ok(Self::default());
        }
        
        let content = fs::read_to_string(&config_path)
            .context("Failed to read config file")?;
        
        toml::from_str(&content)
            .context("Invalid config file format")
    }
}
```

## ã¾ã¨ã‚

CPHã®ç¾åœ¨ã®å®Ÿè£…ã¯ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£çš„ã«ã¯å„ªã‚Œã¦ã„ã‚‹ã‚‚ã®ã®ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®Ÿéš›ã«ä½¿ãˆã‚‹æ©Ÿèƒ½ãŒã»ã¨ã‚“ã©å®Ÿè£…ã•ã‚Œã¦ã„ãªã„çŠ¶æ…‹ã§ã™ã€‚ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã®æ—¥å¸¸çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æ”¯æ´ã™ã‚‹ãŸã‚ã«ã¯ã€ä»¥ä¸‹ã®ç‚¹ãŒé‡è¦ã§ã™ï¼š

1. **å³åº§ã«ä¾¡å€¤ã‚’æä¾›ã™ã‚‹**ï¼šæœ€å°é™ã®æ©Ÿèƒ½ã§ã‚‚ã€å‹•ä½œã™ã‚‹ã‚‚ã®ã‚’æä¾›ã™ã‚‹
2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼**ï¼šã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€é€²æ—è¡¨ç¤ºã€ãƒ˜ãƒ«ãƒ—ã®å……å®Ÿ
3. **ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ç‰¹åŒ–**ï¼šã‚³ãƒ³ãƒ†ã‚¹ãƒˆä¸­ã®åŠ¹ç‡çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®Ÿç¾

ã“ã‚Œã‚‰ã®æ”¹å–„ã‚’æ®µéšçš„ã«å®Ÿè£…ã™ã‚‹ã“ã¨ã§ã€CPHã¯ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã«ã¨ã£ã¦å¿…é ˆã®ãƒ„ãƒ¼ãƒ«ã«æˆé•·ã§ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚