# リクエスト・レスポンスパターン実装計画

## 背景と目的
old_srcでは`infrastructure/requests/`と`operations/results/`を中心に、統一的なリクエスト・レスポンスパターンが実装されている。これにより、異なる種類の操作（ファイル操作、シェル実行、Docker操作）を統一的に扱える。

## 取り込むべき価値
1. **統一インターフェース**: 異なる操作を共通のパターンで実行
2. **型安全な結果処理**: Result型による成功/失敗の明確な区別
3. **コンポジット操作**: 複数の操作を組み合わせた複合リクエスト
4. **エラー情報の標準化**: 一貫したエラー情報の提供

## 実装方針
1. `src/domain/operations/`でのリクエスト・レスポンス型定義
2. `src/application/handlers/`での処理ロジック実装
3. `src/infrastructure/executors/`での実行層実装
4. エラー型の統一と変換処理

## 技術的考慮事項
- `thiserror`クレートによるエラー型定義
- `async-trait`による非同期トレイト実装
- ジェネリクスを活用した型安全な設計
- パフォーマンスを考慮したゼロコスト抽象化

## 期待される効果
- 操作の統一的な扱いによるコードの簡潔性
- エラーハンドリングの一貫性
- 新しい操作タイプの追加が容易
- テストの書きやすさ向上