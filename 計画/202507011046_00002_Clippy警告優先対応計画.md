# Clippy警告優先対応計画

## 現状分析

### 検出された警告カテゴリ

1. **依存関係の警告（multiple_crate_versions）**
   - 複数バージョンの依存関係が存在（22個）
   - 主な重複：base64, getrandom, hashbrown, indexmap, regex系, windows系

2. **コード品質警告**
   - redundant_closure: 3箇所
   - doc_markdown: 2箇所
   - unused_self: 1箇所
   - unnecessary_wraps: 1箇所
   - unused_async: 7箇所
   - needless_pass_by_value: 多数
   - unwrap_used: 多数
   - expect_used: 多数

## 対応優先順位

### 優先度：高
1. **unwrap/expect使用の削減**
   - パニックの可能性があるため、エラーハンドリングの改善が必要
   - Result型やOption型の適切な処理への置き換え

2. **unused_async関数の修正**
   - 非同期でない関数から`async`を削除
   - 特にテストサポートモジュール内のモック実装

### 優先度：中
1. **redundant_closureの修正**
   - `map_err(|e| ApplicationError::from(e))`を`map_err(ApplicationError::from)`に修正

2. **unnecessary_wrapsの修正**
   - 常に`Ok`を返す関数の戻り値を簡潔化

3. **needless_pass_by_valueの修正**
   - 大きな構造体の参照渡しへの変更

### 優先度：低
1. **doc_markdownの修正**
   - ドキュメント内のコード要素にバッククォートを追加

2. **依存関係の重複解消**
   - cargo updateやバージョン統一による解決
   - ただし、互換性の確認が必要

## 実装方針

### 段階的アプローチ
1. 第1段階：unwrap/expectの削減（安全性向上）
2. 第2段階：unused_asyncの削除（コードの簡潔化）
3. 第3段階：その他の警告対応（品質向上）

### 対応時の注意点
- テストの動作確認を必須とする
- 依存関係の変更は慎重に行う
- コードの可読性を維持する