# E2Eユーザー視点での改善点洗い出し

## 実施日時
2025年7月1日

## 調査内容
Competitive Programming Helper (cph) のユーザー視点での使用感と改善点を調査

## 現在実装されている機能

### 1. `cph open <問題名>`
- 新しい問題用のディレクトリを作成
- テンプレートファイル（main.rs）を生成
- サンプル入出力用のディレクトリとファイルを作成

### 2. `cph test [ディレクトリ]`
- 指定ディレクトリ（またはカレントディレクトリ）でテストを実行
- 複数言語対応（Rust, C++, Python, Java, Go, JavaScript）
- テスト結果の視覚的表示（✓/✗）

### 3. `cph submit <問題名>`
- 提出前の基本的な検証
- ファイルサイズの確認
- 手動提出のためのガイド表示

### 4. `cph init`
- 未実装（エラーメッセージとガイドを表示）

## 発見した問題点と改善提案

### 1. 初期セットアップの課題
**問題点**
- `cph init` が未実装のため、初回利用時の設定が不明確
- 設定ファイルの場所や形式が不明

**改善提案**
- `cph init` の実装
- 設定ファイル（~/.cphrc など）の自動生成
- インタラクティブな初期設定ウィザード

### 2. テスト実行時の課題
**問題点**
- テストケース検出が `.in`/`.out` 形式のみ対応
- `input_1.txt`/`output_1.txt` のような形式は認識されない
- コンパイルエラー時のメッセージが技術的すぎる

**改善提案**
- より柔軟なテストケースファイル名の対応
- エラーメッセージの日本語化・わかりやすさの改善
- カスタムテストケース形式の設定オプション

### 3. 問題管理の課題
**問題点**
- 作成した問題の一覧表示機能がない
- 問題に関するメタデータ（URL、制約、メモ等）の保存機能がない
- 問題間の移動が手動（cd コマンド）

**改善提案**
- `cph list` コマンドの追加
- `cph cd <問題名>` のようなナビゲーション機能
- 問題ごとの metadata.json ファイル

### 4. 言語サポートの課題
**問題点**
- デフォルトがRustで固定
- 他言語のテンプレート生成機能がない
- 言語ごとのコンパイルオプションのカスタマイズ不可

**改善提案**
- `cph open problem1 --lang cpp` のような言語指定オプション
- ユーザー定義テンプレートのサポート
- `.cphrc` での言語別設定

### 5. テスト結果表示の課題
**問題点**
- 大量の出力がある場合の表示が見づらい
- 差分表示が単純（期待値と実際の値の羅列）
- メモリ使用量の表示がない

**改善提案**
- 出力の差分をより視覚的に表示（色分け、行番号表示）
- 長い出力の省略表示オプション
- 実行時間・メモリ使用量の詳細表示

### 6. 提出機能の課題
**問題点**
- 実際の提出が手動
- 提出履歴の管理機能がない
- 複数のオンラインジャッジサイトへの対応がない

**改善提案**
- AtCoder、Codeforces等への自動提出機能
- 提出履歴の記録と表示
- 提出前の自動フォーマット機能

### 7. デバッグ支援の不足
**問題点**
- デバッグ用の入力を手軽に試す機能がない
- インタラクティブ問題への対応がない
- ローカルでのストレステスト機能がない

**改善提案**
- `cph debug` コマンドでインタラクティブな入力テスト
- ランダムテストケース生成機能
- 対話型問題用のジャッジプログラムサポート

### 8. ワークフロー統合の課題
**問題点**
- エディタとの統合がない
- Git連携機能がない
- CI/CDパイプラインとの統合が考慮されていない

**改善提案**
- VSCode拡張機能の開発
- 自動的なGitコミット機能
- GitHub Actionsテンプレートの提供

## 優先度別改善項目

### 高優先度
1. `cph init` コマンドの実装
2. より柔軟なテストケースファイル名対応
3. エラーメッセージの改善
4. 言語選択オプションの追加

### 中優先度
1. 問題一覧・管理機能
2. テスト結果の差分表示改善
3. カスタムテンプレート機能
4. 設定ファイルサポート

### 低優先度
1. オンラインジャッジ連携
2. エディタ統合
3. 高度なデバッグ機能
4. CI/CD統合

## まとめ
現在のcphは基本的な機能は動作するものの、実際の競技プログラミングのワークフローを考慮すると、多くの改善余地がある。特に初期セットアップ、エラーメッセージの親切さ、言語選択の柔軟性は早急に対応すべき項目である。