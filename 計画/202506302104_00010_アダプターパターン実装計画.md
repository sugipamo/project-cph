# アダプターパターン実装計画

## 概要
old_srcのアダプターパターンを参考に、アプリケーション層とインフラストラクチャ層の間の変換層を実装する。

## 背景と目的
- old_srcではadapters/配下にロガーアダプター、タイムアダプターなどが実装
- アプリケーション層の純粋な型とインフラストラクチャ層の具体的な型を変換
- 層間の結合度を下げ、テスタビリティを向上
- Rustの型システムを活用した安全な変換層の構築

## 実装方針
1. **アダプタートレイトの定義**
   - 双方向の変換を定義するトレイト
   - From/Intoトレイトの活用
   - エラーハンドリングの統一
   
2. **各種アダプターの実装**
   - LoggerAdapter: ログレベルやフォーマットの変換
   - TimeAdapter: 時刻表現の変換（chrono <-> domain types）
   - ConfigAdapter: 設定値の変換と検証
   - ErrorAdapter: エラー型の変換

3. **型安全な変換**
   - ゼロコスト抽象化を意識した実装
   - コンパイル時の型チェック
   - 実行時オーバーヘッドの最小化

4. **テスト用アダプター**
   - モックアダプターの提供
   - 決定的な動作のための固定値アダプター

## 期待される効果
- 層間の疎結合
- 外部ライブラリの変更が容易
- テストの記述が簡潔に
- 型安全性の向上

## 実装優先度
低（基本機能が動作した後の改善項目）

## 参考実装
- old_src/adapters/
- old_src/infrastructure/drivers/（アダプターの使用例）
- old_src/formatters/（フォーマット変換の参考）