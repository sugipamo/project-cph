# 04_関数型プログラミング違反

## 概要
関数型プログラミング原則に違反する問題群

## 検出された問題

### 関数サイズ制限違反（25行制限）
- **主要違反**:
  - `src/infrastructure/di_container.py:65` - `resolve`関数 38行
  - `src/infrastructure/environment/environment_manager.py:41` - `prepare_environment`関数 31行
  - `src/infrastructure/environment/environment_manager.py:73` - `cleanup_environment`関数 31行
  - `src/infrastructure/patterns/retry_decorator.py:13` - `__init__`関数 29行
  - `src/infrastructure/patterns/retry_decorator.py:66` - `retry_on_failure_with_result`関数 54行
  - その他142件

### グローバル変数使用（純粋関数違反）
- **場所**:
  - `src/infrastructure/drivers/docker/utils/docker_command_builder.py:19,24`
  - `src/configuration/config_manager.py:26` - 複数のglobal変数使用
  - その他1件

### ローカルインポート使用
- **主要場所**:
  - `src/cli/cli_app.py:56` - `run_cli_application`内
  - `src/operations/factories/request_factory.py` - 複数メソッド内
  - その他34件

### 可変操作・メソッド使用（不変性違反）
- **可変操作**: 52件
  - `src/operations/exceptions/composite_step_failure.py` - 複数行での可変操作
  - `src/operations/pure/data_processors.py:37` - `groups[key]`への代入
- **可変メソッド**: 91件
  - `append`, `pop`メソッドの使用
  - `src/operations/pure/string_formatters.py` - 複数箇所

### 副作用関数呼び出し
- **場所**: `src/configuration/config_manager.py:346` - `open`関数呼び出し

## 修正要求
- 関数の分割によるサイズ制限遵守
- 不変データ構造の採用
- 純粋関数への変換