{
  "shared": {
    "paths": {
      "contest_current_path": "./contest_current",
      "contest_stock_path": "./contest_stock",
      "contest_template_path": "./contest_template",
      "contest_temp_path": "./.temp",
      "workspace_path": "./workspace"
    },
    "debug": {
      "enabled": false,
      "level": "detailed",
      "format": {
        "icons": {
          "start": "üöÄ",
          "file_mkdir": "üìÅ",
          "file_copy": "üìã",
          "shell": "üîß",
          "test": "üß™",
          "success": "‚úÖ",
          "failure": "‚ùå"
        }
      }
    },
    "docker_config": {
      "mount_path": "/workspace",
      "working_directory": "/workspace",
      "keep_alive_command": "tail -f /dev/null",
      "default_shell": "bash",
      "error_patterns": {
        "daemon_connection": [
          "cannot connect to the docker daemon",
          "docker daemon is not running",
          "connection refused",
          "docker.sock"
        ],
        "image_not_found": [
          "no such image",
          "pull access denied",
          "repository does not exist",
          "image not found",
          "manifest unknown"
        ],
        "container_conflict": [
          "container already exists",
          "container is running",
          "container not found",
          "conflict",
          "name is already in use"
        ],
        "network_error": [
          "network", "timeout", "connection", "dns", "tls"
        ],
        "filesystem_error": [
          "permission denied",
          "no such file or directory",
          "directory not empty",
          "disk space"
        ],
        "resource_error": [
          "out of memory", "resource", "quota", "limit", "no space left"
        ]
      },
      "retry_settings": {
        "max_attempts": 3,
        "base_delay_seconds": 1.0,
        "max_delay_seconds": 30.0,
        "exponential_backoff": true
      },
      "state_management": {
        "state_directory": "~/.cph/state",
        "state_file_format": "json",
        "auto_backup": true,
        "max_history": 100
      },
      "naming_conventions": {
        "container_prefix": "cph",
        "oj_container_prefix": "cph_ojtools",
        "separator": "_",
        "image_tag_format": "{language}:latest"
      },
      "path_settings": {
        "container_root_path": "/",
        "host_current_directory": ".",
        "path_separator": "/",
        "temp_directory": "/tmp",
        "workspace_alias": "./workspace"
      },
      "docker_settings": {
        "dockerfile_hash_length": 12,
        "custom_image_prefixes": ["ojtools", "cph_"],
        "known_registries": [
          "docker.io",
          "gcr.io", 
          "registry.hub.docker.com",
          "quay.io",
          "ghcr.io"
        ],
        "command_wrapper": "bash -c",
        "invalid_path_chars": ["..", " ", "\\t", "\\n", "\\r"]
      },
      "timeout_settings": {
        "process_termination_timeout": 3
      },
      "preparation_actions": {
        "remove_stopped_container": "remove_stopped_container",
        "run_new_container": "run_new_container",
        "create_directory": "create_directory",
        "build_or_pull_image": "build_or_pull_image"
      },
      "docker_options": {
        "force_remove_flag": "f"
      }
    },
    "common_steps": {
      "open_browser": {
        "type": "python",
        "allow_failure": true,
        "show_output": false,
        "cmd": [
          "import webbrowser",
          "webbrowser.open('https://atcoder.jp/contests/{contest_name}/tasks/{contest_name}_{problem_id}')"
        ]
      },
      "backup_current": {
        "type": "copy",
        "allow_failure": true,
        "show_output": false,
        "force_env_type": "local",
        "cmd": ["{contest_current_path}/{source_file_name}", "{contest_stock_path}/{contest_name}/{problem_id}/{source_file_name}"]
      },
      "copy_template": {
        "type": "copy",
        "allow_failure": true,
        "show_output": false,
        "force_env_type": "local",
        "cmd": ["{contest_template_path}/{language_name}/{source_file_name}", "{contest_current_path}/{source_file_name}"]
      },
      "download_samples": {
        "type": "oj",
        "allow_failure": true,
        "show_output": true,
        "cwd": "{workspace_path}",
        "cmd": ["oj", "download", "https://atcoder.jp/contests/{contest_name}/tasks/{contest_name}_{problem_id}"]
      },
      "move_test_files": {
        "type": "movetree",
        "allow_failure": true,
        "show_output": false,
        "force_env_type": "local",
        "cmd": ["{workspace_path}/test", "{contest_current_path}/test"]
      },
      "copy_to_workspace": {
        "type": "copy",
        "allow_failure": false,
        "show_output": false,
        "cmd": ["{contest_current_path}/{source_file_name}", "{workspace_path}/{source_file_name}"]
      }
    }
  }
}