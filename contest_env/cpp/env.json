{
  "cpp": {
    "aliases": ["c++", "cpp"],
    "language_id": "5003",
    "source_file_name": "main.cpp",
    "commands": {
      "open": {
        "aliases": ["o"],
        "description": "コンテストを開く",
        "steps": [
          {
            "type": "python",
            "allow_failure": true, 
            "show_output": false, 
            "cmd": [
              "import webbrowser",
              "webbrowser.open('https://atcoder.jp/contests/{contest_name}/tasks/{contest_name}_{problem_name}')"
            ]
          },
          {
            "type": "copy",
            "allow_failure": true,
            "show_output": false,
            "force_env_type": "local",
            "cmd": ["{contest_current_path}/{source_file_name}", "{contest_stock_path}/{contest_name}/{problem_name}/{source_file_name}"]
          },
          {
            "type": "copy",
            "allow_failure": true,
            "show_output": false,
            "force_env_type": "local",
            "cmd": ["{contest_template_path}/{language_name}/{source_file_name}", "{contest_current_path}/{source_file_name}"]
          },
          {
            "type": "shell", 
            "allow_failure": true,
            "show_output": false,
            "force_env_type": "local",
            "cmd": ["cursor", "{contest_current_path}/{source_file_name}"]
          },
          {
            "type": "oj", 
            "allow_failure": true, 
            "show_output": true, 
            "cwd": "{workspace_path}",
            "cmd": ["oj", "download", "https://atcoder.jp/contests/{contest_name}/tasks/{contest_name}_{problem_name}"]
          },
          {
            "type": "movetree",
            "allow_failure": true,
            "show_output": false,
            "force_env_type": "local",
            "cmd": ["{workspace_path}/test", "{contest_current_path}/test"]
          }
        ]
      },
      "test": {
        "aliases": ["t"],
        "description": "テストを実行する",
        "steps": [
          {
            "type": "copy",
            "allow_failure": false,
            "show_output": false,
            "cmd": ["{contest_current_path}/{source_file_name}", "{workspace_path}/{source_file_name}"]
          },
          {
            "type": "test",
            "allow_failure": true,
            "show_output": true,
            "cmd": ["g++", "-o", "{workspace_path}/main", "{workspace_path}/{source_file_name}", "&&", "{workspace_path}/main"]
          }
        ]
      },
      "test_format": {
        "aliases": ["tf"],
        "description": "カスタムフォーマットでテストを実行する (C++)",
        "steps": [
          {
            "type": "copy",
            "allow_failure": false,
            "show_output": false,
            "cmd": ["{contest_current_path}/{source_file_name}", "{workspace_path}/{source_file_name}"]
          },
          {
            "type": "test",
            "allow_failure": true,
            "show_output": true,
            "cmd": ["g++", "-std=c++17", "-O2", "-o", "{workspace_path}/main", "{workspace_path}/{source_file_name}", "&&", "{workspace_path}/main"],
            "output_format": "template",
            "format_options": {
              "template_syntax": "python",
              "strict_formatting": true,
              "templates": {
                "default": "{test_name:.<30} │ {status_symbol} {status:^10} │ {time_formatted:>12}",
                "pass": "{test_name:.<30} │ {status_symbol} {status:^10} │ {time_formatted:>12}",
                "fail": "{test_name:.<30} │ {status_symbol} {status:^10} │ {time_formatted:>12}\\n    Expected: {expected_output}\\n    Got:      {actual_output}",
                "error": "{test_name:.<30} │ {status_symbol} {status:^10} │ {time_formatted:>12}\\n    Error: {error_message}",
                "summary": "Results: {passed:03d}/{total:03d} tests passed ({pass_rate:.1f}%) [C++]"
              }
            }
          }
        ]
      },
      "test_performance": {
        "aliases": ["tp"],
        "description": "パフォーマンス重視でテストを実行する (C++)",
        "steps": [
          {
            "type": "copy",
            "allow_failure": false,
            "show_output": false,
            "cmd": ["{contest_current_path}/{source_file_name}", "{workspace_path}/{source_file_name}"]
          },
          {
            "type": "test",
            "allow_failure": true,
            "show_output": true,
            "cmd": ["g++", "-std=c++17", "-O2", "-DNDEBUG", "-o", "{workspace_path}/main", "{workspace_path}/{source_file_name}", "&&", "{workspace_path}/main"],
            "output_format": "template",
            "format_options": {
              "template_syntax": "python",
              "strict_formatting": true,
              "templates": {
                "default": "⚡ {test_name:.<25} │ {status_symbol} {status:^8} │ {time_ms:>5d}ms",
                "pass": "⚡ {test_name:.<25} │ {status_symbol} {status:^8} │ {time_ms:>5d}ms",
                "fail": "⚡ {test_name:.<25} │ {status_symbol} {status:^8} │ {time_ms:>5d}ms\\n   Expected: {expected_output}\\n   Got:      {actual_output}",
                "error": "⚡ {test_name:.<25} │ {status_symbol} {status:^8} │ {time_ms:>5d}ms\\n   Error: {error_message}",
                "summary": "⚡ Performance Test: {passed}/{total} passed ({pass_rate:.1f}%) | Avg: {time_ms}ms"
              }
            }
          }
        ]
      },
      "submit": {
        "aliases": ["s"],
        "description": "提出する",
        "steps": [
          {
            "type": "copy",
            "allow_failure": false,
            "show_output": false,
            "cmd": ["{contest_current_path}/{source_file_name}", "{workspace_path}/{source_file_name}"]
          },
          {
            "type": "oj",
            "allow_failure": false,
            "show_output": true,
            "cmd": ["oj", "submit", "--wait=0", "--yes", "--language", "{language_id}", "https://atcoder.jp/contests/{contest_name}/tasks/{contest_name}_{problem_name}", "{contest_current_path}/{source_file_name}"]
          }
        ]
      }
    }
  }
}