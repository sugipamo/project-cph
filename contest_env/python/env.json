{
  "python": {
    "aliases": ["py"],
    "language_id": "5078",
    "source_file_name": "main.py",
    "commands": {
      "open": {
        "aliases": ["o"],
        "description": "問題を開く（切り替え・復元も自動処理）",
        "state_transition": {
          "target": "working",
          "context": {
            "contest_name": "{contest_name}",
            "problem_id": "{problem_id}",
            "language": "{language_name}"
          }
        },
        "additional_actions": [
          {
            "type": "python",
            "allow_failure": true,
            "show_output": false,
            "cmd": [
              "import webbrowser",
              "webbrowser.open('https://atcoder.jp/contests/{contest_name}/tasks/{contest_name}_{problem_id}')"
            ]
          },
          {
            "type": "shell",
            "allow_failure": true,
            "show_output": false,
            "cmd": ["cursor", "{contest_current_path}/{source_file_name}"]
          },
          {
            "type": "oj",
            "allow_failure": true,
            "show_output": true,
            "cwd": "{workspace_path}",
            "cmd": ["oj", "download", "https://atcoder.jp/contests/{contest_name}/tasks/{contest_name}_{problem_id}"]
          }
        ]
      },
      "test": {
        "aliases": ["t"],
        "description": "テストを実行する（標準フォーマット）",
        "steps": [
          {
            "type": "copy",
            "allow_failure": false,
            "show_output": false,
            "cmd": ["{contest_current_path}/{source_file_name}", "{workspace_path}/{source_file_name}"]
          },
          {
            "type": "test",
            "allow_failure": true,
            "show_output": true,
            "cmd": ["python3", "{workspace_path}/{source_file_name}"],
            "output_format": "preset",
            "format_preset": "standard"
          }
        ]
      },
      "submit": {
        "aliases": ["s"],
        "description": "提出する",
        "steps": [
          {
            "type": "copy",
            "allow_failure": false,
            "show_output": false,
            "cmd": ["{contest_current_path}/{source_file_name}", "{workspace_path}/{source_file_name}"]
          },
          {
            "type": "oj",
            "allow_failure": false,
            "show_output": true,
            "cmd": ["oj", "submit", "--wait=0", "--yes", "--language", "{language_id}", "https://atcoder.jp/contests/{contest_name}/tasks/{contest_name}_{problem_id}", "{contest_current_path}/{source_file_name}"]
          }
        ]
      }
    },
    "env_types": {
      "local": {
        "aliases": ["local"]
      },
      "docker": {
        "aliases": ["docker"]
      }
    }
  }
}
