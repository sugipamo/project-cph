# 202506272300 実行計画

## プロジェクト概要

CPH (Competitive Programming Helper) は競技プログラミング環境を統一するツールです。

### 現在の状況
- **ブランチ**: feature/dependency-reorganization
- **直近の作業**: テスト実行と問題対応（古い実装ベースのテスト削除、テストカバレッジ向上）
- **課題**: 過度な抽象化による開発者疲弊（75ディレクトリ、150ファイル）

## プロジェクトの理念と目標

### 理念
- 競技プログラミングにおいて本質的な「問題を解く」ことに集中できる環境を提供
- 言語の壁を越え、環境差異から解放し、繰り返し作業を自動化

### 提供価値
1. **時間の創出**: セットアップ時間短縮、テスト自動化、言語切り替えの即時対応
2. **ストレスからの解放**: 環境依存エラー最小化、提出ミス防止、統一インターフェース
3. **学習効率の向上**: 実行履歴からの振り返り、エラーパターン可視化

## 技術アーキテクチャ

### 現在の実装状況
- **言語**: Python 3.8+
- **実行環境**: Docker（環境の完全な再現性）
- **データストア**: SQLite（軽量な履歴管理）
- **設定管理**: JSON形式
- **アーキテクチャ**: Clean Architecture（高品質だが過度に複雑）

### 対応言語
- Python (3.8-3.11)
- C++ (g++ 11-13, C++17/20)
- Rust (stable/nightly, edition 2021)

## 現在進行中の作業

### プロジェクト再生計画（4週間計画）
「プロジェクト再生宣言」に基づき、過度な抽象化を段階的に統合する計画が進行中：

1. **Week 1**: Driver系統統合（27ファイル削減）
2. **Week 2**: Request/Result統合（13ファイル削減）
3. **Week 3**: Provider/Adapter統合（8ファイル削除）
4. **Week 4**: テスト環境整理

### 直近の作業履歴（feature/dependency-reorganization）
- cargo testの実行と問題対応
- 古い実装に基づくテストの削除
- テストカバレッジの向上作業

## 開発ガイドライン（CLAUDE.md）

### グローバルルール
- 指示が曖昧な場合は必ず再確認
- コード変更前に責務の配置が適切か確認
- 品質管理コード：src_check/、本番コード：src/

### src/配下のルール
- デフォルト値の使用禁止（設定はJSONから取得）
- 中長期を見据えた実装
- 副作用はsrc/infrastructureのみ（main.pyから注入）
- フォールバック処理禁止
- 引数のデフォルト値禁止

## 次のアクション候補

1. **Driver統合の継続**
   - 現在のDriver関連ファイルの統合作業を進める
   - テストを維持しながら段階的に統合

2. **テストカバレッジの確認と改善**
   - 現在のテスト実行状況の確認
   - 不足しているテストの追加

3. **設定管理の整理**
   - JSON設定ファイルの構造確認
   - 設定取得方法の統一

4. **ドキュメント整備**
   - 統合後の新しいアーキテクチャのドキュメント化
   - 開発者向けガイドの更新

## 注意事項

- 短期的な解決を避け、中長期的な視点で実装
- 既存の機能とテストは100%保持
- 段階的な統合により影響範囲を最小化
- 各段階で動作確認を実施