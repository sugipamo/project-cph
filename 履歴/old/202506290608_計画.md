# 2025年6月29日 作業計画

## 現状分析
- feature/dependency-reorganization ブランチで依存関係の再編成中
- 97個中53個のテストが失敗中（44個は修正済み）
- CLAUDE.md違反箇所が多数存在（デフォルト値、副作用、フォールバック処理）
- src_check/による品質管理ツールは整備されている

## 本日の目標
テストの安定化とCLAUDE.md準拠を優先し、コードベースの品質向上を図る

## 作業計画（優先度順）

### 1. 失敗テストの修正（優先度：高）
**目標**: 53個の失敗テストを0にする
**作業内容**:
- LogFormatType enum値の不整合を修正
- FileDriverメソッドの必須パラメータ追加
- ContestManagerの例外処理修正
- テストカバレッジが低い箇所（60%未満）にテスト追加

### 2. 副作用の移動（優先度：中）
**目標**: 36箇所の副作用をinfrastructure層に移動
**作業内容**:
- src_check/checkers/check_side_effect.pyで検出された箇所を修正
- main.pyからの依存性注入パターンに統一
- 移動後のテスト実行と動作確認

### 3. デフォルト値の完全除去（優先度：中）
**目標**: 残存するデフォルト値をすべて除去
**作業内容**:
- src_check/checkers/check_default_value.pyで再スキャン
- 呼び出し元での明示的な値指定に変更
- configuration/README.mdに従った設定取得方法の実装

### 4. フォールバック処理の除去（優先度：低）
**目標**: エラーを適切に伝播させる
**作業内容**:
- src_check/checkers/check_fallback.pyで検出された箇所を修正
- エラーハンドリングの見直し

## 作業方針
- CLAUDE.mdの指示を厳守（短期的解決の禁止、中長期視点の実装）
- 各変更後は必ずテストを実行
- 品質管理ツール（src_check/）を活用して違反を検出
- 作業結果は詳細に記録

## 成果物
- すべてのテストが成功する状態
- CLAUDE.md準拠のコードベース
- 202506290608_結果.mdへの詳細な作業記録
- 残タスクがある場合は202506290608_残タスク.mdに記録

## 時間配分（目安）
1. テスト修正: 4時間
2. 副作用の移動: 2時間
3. デフォルト値除去: 1時間
4. フォールバック処理除去: 1時間

計8時間の作業を想定