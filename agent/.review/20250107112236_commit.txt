refactor: fsモジュールのエラーハンドリングを改善

- エラーハンドリングをErrorExtトレイトを使用する形に統一
- テストコードで一時ディレクトリの管理をTestDirectoryに統一
- エラーメッセージの生成方法を統一化

この変更により、コードの保守性と可読性が向上します。 