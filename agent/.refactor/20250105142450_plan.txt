# リファクタリング計画の更新\n\n## 現状の分析\nContest構造体は現在以下の責務を持っています：\n1. コンテストの状態管理（ContestState）\n2. ファイルシステム操作（SafeFileSystem）\n\n## 問題点\n1. 状態管理とファイルシステム操作が密結合している\n2. テスト関連の機能が別構造体に分離されているが、同様の分離が他の機能でも必要\n\n## 改善案\n1. 機能の分離\n   - StateManager: 状態管理専用のモジュール（既存）\n   - FileSystemManager: ファイルシステム操作専用のモジュール\n\n2. インターフェースの整理\n   - 各マネージャーをトレイトとして定義\n   - Contest構造体はこれらのトレイトを実装する形に変更\n\n3. 具体的な変更点\n   - ContestStateをStateManagerトレイトに完全に移行\n   - SafeFileSystem操作をFileSystemManagerトレイトとして分離\n   - 各マネージャー間の依存関係を明確化\n\n4. 期待される効果\n   - コードの責務が明確になる\n   - テストが書きやすくなる\n   - 機能の拡張が容易になる\n   - 依存関係が明確になる
