# エラー通知体験

## エラー通知の原則

### 重大なエラーの定義
- 設定ファイルの構文エラー
- 実行環境の不整合
- 必須依存関係の欠如
- ファイルアクセス権限の問題

### 通知方法
1. **即座に分かる表示**
   - 色付きの警告（ターミナルが対応している場合）
   - 明確なエラーレベル表示 [CRITICAL], [ERROR], [WARNING]

2. **修正方針の提示**
   ```
   [ERROR] 設定ファイルのパースに失敗しました
   ファイル: /config/system/execution.json
   エラー箇所: 12行目
   原因: JSONの構文エラー（カンマが不足）
   
   修正方法:
   1. 11行目の末尾にカンマを追加してください
   2. または、該当ファイルを削除してデフォルト設定を再生成してください
      コマンド: cph config --reset execution
   ```

3. **ログへの記録**
   - エラーログファイルへの詳細記録
   - デバッグ時のトレース情報保存

## 設定ファイルエラーの扱い

### 検証タイミング
- 起動時の設定ファイル検証
- コマンド実行前の関連設定チェック
- 設定変更時の即時検証

### 回復支援
- バックアップからの復元案内
- デフォルト値での継続実行オプション
- 設定ファイルの自動修正提案（安全な場合のみ）

## 成功率99%の実現

### 予防的アプローチ
- 設定ファイルのスキーマ検証
- 実行前の環境チェック
- 依存関係の事前確認

### エラー時の継続性
- 部分的な失敗でも可能な限り処理を継続
- クリティカルでないエラーは警告に留める
- リトライ可能なエラーは自動リトライ