# AtCoderテスト実行機能の実装TODO

## 1. テスト実行の基本機能実装

### 1.1 テストケースの読み込み
- [ ] テストケースディレクトリの構造定義
  - `active_contest/test/{problem_id}/` 以下のテストケースを実行
  - 入力ファイル: `{case_name}.in`
  - 出力ファイル: `{case_name}.out`
  - 指定ディレクトリ内のすべてのテストケースを実行
- [ ] テストケースの読み込み機能実装
  - テストケースの一覧取得（`.in`ファイルをベースに検索）
  - 入力/出力ファイルの読み込み

### 1.2 Dockerコンテナでのテスト実行
- [ ] `src/docker/runner/`の既存実装を活用
  - `DockerRunner`クラスの初期化
  - ソースコードの実行
  - 標準入出力の制御
- [ ] テストケースごとの実行制御
  - タイムアウト処理
  - メモリ制限の設定
  - 実行時間の計測

### 1.3 テスト結果の判定
- [ ] 出力の比較機能実装
  - 空白・改行の正規化
  - 完全一致での判定
- [ ] テスト結果の表示
  - 実行時間
  - メモリ使用量
  - 各テストケースの結果（AC/WA/TLE/MLE）
  - テスト失敗時も強制submitできる旨を表示

## 2. エラーハンドリング

### 2.1 実行時エラー
- [ ] コンパイルエラーの処理
- [ ] ランタイムエラーの処理
- [ ] メモリ制限超過の検出
- [ ] 時間制限超過の検出

### 2.2 環境エラー
- [ ] Dockerデーモン未起動の検出
- [ ] イメージ取得失敗の処理
- [ ] コンテナ作成失敗の処理
- [ ] ファイルシステムエラーの処理

## 3. 機能拡張

### 3.1 テスト実行オプション
- [ ] 特定のテストケースのみ実行
- [ ] すべてのテストケースを実行（デフォルト）
- [ ] 実行時間制限の設定
- [ ] メモリ制限の設定
- [ ] テスト失敗時の強制submit確認

### 3.2 デバッグ支援
- [ ] 詳細なエラー情報の表示
- [ ] デバッグ用の出力制御
- [ ] テストケース失敗時の差分表示

## 4. リファクタリング

### 4.1 コード整理
- [ ] `src/test/mod.rs`の実装
- [ ] テストランナーの抽象化
- [ ] エラー型の整理
- [ ] 設定値の外部化

### 4.2 テストの追加
- [ ] ユニットテストの作成
- [ ] 統合テストの作成
- [ ] エラーケースのテスト
- [ ] 境界値のテスト

## 5. ドキュメント

### 5.1 コードドキュメント
- [ ] 主要な関数のドキュメント
- [ ] エラー型のドキュメント
- [ ] 設定項目のドキュメント

### 5.2 ユーザードキュメント
- [ ] コマンドの使用方法
- [ ] 設定ファイルの説明
- [ ] エラーメッセージの説明
- [ ] トラブルシューティングガイド 